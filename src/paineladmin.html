<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/global.css">
     <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <title>Dashboard Vegas</title>
</head>
<body class="body-painel">
    
    <div class="main">

     <!-- Side Bar -->
    <div class="sidebar-admin">

        <div class="logo-sidebar">
            <img src="./imgs/logos/logo-vegas.png" alt="">
        </div>

        
       
        <ul class="lista-sidebar">
             <li data-page="dashboard">

              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
  viewBox="0 0 24 24" fill="none" class="icon">

  <path d="M19 3C20.1046 3 21 3.88316 21 4.9726L21 8.33992C21 9.42936 20.1046 10.3125 19 10.3125H16C14.8954 10.3125 14 9.42936 14 8.33992L14 4.9726C14 3.88316 14.8954 3 16 3L19 3Z"
    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>

  <path d="M5 3C3.89543 3 3 3.88316 3 4.9726L3.00001 8.33992C3.00001 9.42936 3.89544 10.3125 5.00001 10.3125H8.00001C9.10458 10.3125 10 9.42936 10 8.33992L10 4.9726C10 3.88316 9.10457 3 8 3L5 3Z"
    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>

  <path d="M19 13.6875C20.1046 13.6875 21 14.5707 21 15.6601V19.0274C21 20.1168 20.1046 21 19 21H16C14.8954 21 14 20.1168 14 19.0274L14 15.6601C14 14.5707 14.8954 13.6875 16 13.6875H19Z"
    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>

  <path d="M5.00001 13.6875C3.89544 13.6875 3.00001 14.5707 3.00001 15.6601L3.00001 19.0274C3.00001 20.1168 3.89544 21 5.00001 21H8.00001C9.10458 21 10 20.1168 10 19.0274L10 15.6601C10 14.5707 9.10458 13.6875 8.00001 13.6875H5.00001Z"
    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-crumb="dash"/>
</svg>

           
              Dashboard
            </li>

             <li data-page="estabelecimentos">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="18" viewBox="0 0 20 18" fill="none">
  <path d="M17.9917 8.62111V15C17.9917 16.1046 17.0963 17 15.9917 17H3.9917C2.88713 17 1.9917 16.1046 1.9917 15V8.62111M5.4917 6.75C5.4917 7.99264 4.48434 9 3.2417 9C2.08567 9 1.13327 8.12818 1.00612 7.00615C0.986938 6.83688 1.01346 6.66657 1.05646 6.50173L2.10166 2.49516C2.3314 1.6145 3.12676 1 4.03689 1H15.9465C16.8566 1 17.652 1.6145 17.8817 2.49516L18.9269 6.50173C18.9699 6.66657 18.9965 6.83688 18.9773 7.00615C18.8501 8.12818 17.8977 9 16.7417 9C15.4991 9 14.4917 7.99264 14.4917 6.75M5.4917 6.75C5.4917 7.99264 6.49906 9 7.7417 9C8.98434 9 9.9917 7.99264 9.9917 6.75M5.4917 6.75L5.9917 1M9.9917 6.75C9.9917 7.99264 10.9991 9 12.2417 9C13.4843 9 14.4917 7.99264 14.4917 6.75M9.9917 6.75V1M14.4917 6.75L13.9917 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-crumb="estab"/>
</svg>
              Gerenciar Estabelecimento
            </li>

            <li data-page="promocoes">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
  <path d="M7 14.2L14.2 7M7.5539 7.54934L7.53975 7.53505M13.6644 13.7227L13.6503 13.7084M6.52286 2.98733L5.50495 3.04932C4.18351 3.1298 3.1298 4.18351 3.04932 5.50495L2.98733 6.52286C2.95176 7.10677 2.72179 7.66197 2.33405 8.1L1.65812 8.86361C0.780627 9.85491 0.780627 11.3451 1.65812 12.3364L2.33405 13.1C2.72179 13.538 2.95176 14.0932 2.98733 14.6771L3.04932 15.695C3.1298 17.0165 4.18351 18.0702 5.50495 18.1507L6.52286 18.2127C7.10676 18.2482 7.66197 18.4782 8.1 18.8659L8.86361 19.5419C9.85491 20.4194 11.3451 20.4194 12.3364 19.5419L13.1 18.8659C13.538 18.4782 14.0932 18.2482 14.6771 18.2127L15.695 18.1507C17.0165 18.0702 18.0702 17.0165 18.1507 15.695L18.2127 14.6771C18.2482 14.0932 18.4782 13.538 18.8659 13.1L19.5419 12.3364C20.4194 11.3451 20.4194 9.85491 19.5419 8.8636L18.8659 8.1C18.4782 7.66197 18.2482 7.10676 18.2127 6.52286L18.1507 5.50495C18.0702 4.18351 17.0165 3.1298 15.695 3.04932L14.6771 2.98733C14.0932 2.95176 13.538 2.72179 13.1 2.33405L12.3364 1.65812C11.3451 0.780627 9.85491 0.780627 8.8636 1.65812L8.1 2.33405C7.66197 2.72179 7.10676 2.95176 6.52286 2.98733Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-crumb="cupons"/>
</svg>
              Gerenciar Promo√ß√µes
            
            </li>
        </ul>

        <div class="user-admin">

            <div class="info-user">

              <div class="profile-admin">
                <img src="./imgs/boimia-cupom.png" alt="">
              </div>
              <div>
                <p class="name-user">User</p>
                <p class="cargo-user">Cargo</p>
              </div>
             
            </div>

            <div class="logout">
               <img src="./imgs/icons/logout-02.png" alt="">
            </div>
         
        </div>

    </div>

    <!-- Main Dash -->
    <div class="dash">
        <div class="header-dash">
            <div class="rotas-dash">
            <i>Icone</i>
            <div class="rotas-tela">
                <span>/Gerenciar /s</span>
            </div>
            </div>

            <div class="actions-admin">
                <div class="ball-ad notif">
                    <img src="./imgs/icons/bell-icon.png" alt="">
                </div>

                 <div class="ball-ad profile">
                    <img src="./imgs/Profile.png" alt="">
                </div>
            </div>
            
        </div>

        <div class="main-dash">

    <!-- HOME DASH  -->     
    <div class="page" data-page="dashboard">
     <h1>Dashboard</h1>

       <div class="cards-container-dash">
            <div class="cards-dashboard with-icons">
                <div class="card-info">
                    <div class="card-icon">üè¢</div>
                    <h3 id="totalEstab">0</h3>
                    <p>Estabelecimentos cadastrados</p>
                </div>

                <div class="card-info">
                    <div class="card-icon">üé´</div>
                    <h3 id="totalCupons">0</h3>
                    <p>Cupons</p>
                </div>

                <div class="card-info">
                    <div class="card-icon">üë•</div>
                    <h3 class="">2</h3>
                    <p>Grupos</p>
                </div>
            </div>
        </div>

        <!--GRAFICO-->

        <div class="filtros">
        <div class="filtro-group">
          <label for="filtroTipo">Visualizar por:</label>
          <select id="filtroTipo">
            <option value="cidade">Cidade</option>
            <option value="categoria">Categoria</option>
            <option value="cupons">Cupons Ativos</option>
          </select>
        </div>

        <div class="filtro-group">
          <label for="filtroOrdem">Ordenar:</label>
          <select id="filtroOrdem">
            <option value="desc">Maior para Menor</option>
            <option value="asc">Menor para Maior</option>
          </select>
        </div>

        <div class="filtro-group">
          <label for="filtroLimite">Mostrar:</label>
          <select id="filtroLimite">
            <option value="5">Top 5</option>
            <option value="10">Top 10</option>
            <option value="0">Todos</option>
          </select>
        </div>
      </div>

         <div class="stats-grid" id="statsGrid">
      <!-- Cards de estat√≠sticas ser√£o inseridos aqui -->
    </div>

    <div class="chart-container">
      <div class="chart-wrapper">
        <canvas id="graficoEstabelecimentos"></canvas>
      </div>
   
    </div>
    </div>

 


   <!-- ESTABELECIMENTOS -->
<div class="page" data-page="estabelecimentos">
  <h1>Gerenciar Estabelecimentos</h1>
  
  <!-- Bot√µes de navega√ß√£o entre subpages -->
  <div class="btns-subpage">
    <button data-open-subpage="lista-estab" class="active">Estabelecimentos</button>
    <button data-open-subpage="lista-grupo">Grupos</button>
  </div>

  <!-- Lista de Estabelecimentos -->
  <div class="sub-page active" data-subpage="lista-estab">
    <div class="actions-page-estab">
      <!-- Barra de busca -->
      <input type="text" class="search-estab" placeholder="Buscar por nome ou cidade...">
      
      <!-- Bot√£o criar -->
      <button class="btn-action" onclick="abrirPreview()" type="button">
        + Criar
      </button>
    </div>

    <!-- Filtros de Status (Todos, Publicados, Rascunhos) -->
    <div class="filtros-status">
      <button class="tab-filtro active" data-status="todos">
        Todos (<span id="count-todos">0</span>)
      </button>
      <button class="tab-filtro" data-status="publicados">
        Publicados (<span id="count-publicados">0</span>)
      </button>
      <button class="tab-filtro" data-status="rascunhos">
        Rascunhos (<span id="count-rascunhos">0</span>)
      </button>
    </div>

    <!-- Filtros Avan√ßados -->
<div class="filtros-avancados">
  <div class="filtro-item">
    <label>Cidade</label>
    <select id="filtroCidade" class="filtro-select">
      <option value="Todos">Todas</option>
    </select>
  </div>

  <div class="filtro-item">
    <label>Categoria</label>
    <select id="filtroCategoria" class="filtro-select">
      <option value="Todos">Todas</option>
    </select>
  </div>

  <div class="filtro-item">
    <label>Grupo</label>
    <select id="filtroGrupo" class="filtro-select">
      <option value="Todos">Todos</option>
    </select>
  </div>

  <button class="btn-limpar-filtros" onclick="limparFiltros()">
    Limpar Filtros
  </button>
</div>

    <!-- Lista de Cards -->
    <div id="listaCards" class="lista-cards"></div>
  </div>

  <!-- Lista de Grupos -->
  <div class="sub-page" data-subpage="lista-grupo">
    <div class="actions-page-estab">
      <input type="text" class="search-grupo" placeholder="Buscar grupos...">
      <button data-open-subpage="criar-grupo" class="btn-action" type="button">
        + Criar Grupo
      </button>
    </div>
    <div id="listaGrupo" class="lista-cards"></div>
  </div>

  <!-- Subpage: Criar Grupo (filho de lista-grupo) -->
  <div class="sub-page" data-subpage="criar-grupo">
    <button class="btn-voltar" data-open-subpage="lista-grupo" type="button">
      ‚Üê Voltar para Grupos
    </button>  

  <!--Form Criar Grupo -->
  <form class="form-estab" id="formCadastroGrupo">
    <h3 class="title-form">Dados do Grupo</h3>

    <div class="row">
      <div class="field">
        <label>Nome do Grupo *</label>
        <input type="text" placeholder="Ex: Rede de Supermercados" id="nomeGrupo" required />
      </div>
      
      <div class="field">
        <label>Site URL</label>
        <input type="url" placeholder="https://www.exemplo.com.br" id="siteUrlGrupo" />
      </div>
    </div>

    <div class="row">
      <div class="field">
        <label>Logo do Grupo</label>
        <input type="file" id="logoGrupo" accept="image/*" />
        <small>Formatos aceitos: JPG, PNG, GIF</small>
      </div>
    </div>

    <div class="row">
      <div class="field checkbox-field">
        <label>
          <input type="checkbox" id="ativoGrupo" checked />
          Grupo Ativo
        </label>
      </div>
    </div>

    <h3 class="title-form">Estabelecimentos (opcional)</h3>
    <div class="field">
      <label>Vincular Estabelecimentos</label>
      <div id="listaEstabelecimentosGrupo" class="checkbox-list">
        <!-- Ser√° populado via JavaScript -->
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-secondary btn-gp-can" data-open-subpage="lista-grupo">
        Cancelar
      </button>
      <button type="button" class="btn-primary btn-gp-cad" onclick="cadastrarGrupo()">
        Salvar Grupo
      </button>
    </div>
  </form>
</div>

<!-- Subpage: Criar Estabelecimento (filho de lista-estab) -->
<div class="sub-page" data-subpage="criar-estab">
  <!-- Bot√£o Voltar -->
  <button class="btn-voltar" data-open-subpage="lista-estab" type="button">
    ‚Üê Voltar
  </button>

  <!--

   <form class="form-estab" id="formCadastro2">
  <h3 class="title-form">Dados Iniciais</h3>

  <div class="row">
    <div class="field">
      <label>Nome Fantasia</label>
      <input type="text" placeholder="Ex: Mercado Central" id="nomeEstab2" />
    </div>

    <div class="field">
      <label>Raz√£o Social</label>
      <input type="text" placeholder="Ex: Mercado Central LTDA" id="razaoSocial2" />
    </div>

    <div class="field">
      <label>CNPJ</label>
      <input type="text" placeholder="00.000.000/0001-00" id="cnpj2" />
    </div>

    <div class="field">
      <label>Ativo</label>
      <label class="switch">
        <input type="checkbox" id="ativoEstab2">
        <span class="slider-edit"></span>
      </label>
    </div>
  </div>

  <div class="row">
    <div class="field">
      <label>Telefone</label>
      <input type="text" placeholder="(11) 99999-9999" id="telefone2" />
    </div>

    <div class="field">
      <label>Email de Contato</label>
      <input type="email" placeholder="contato@empresa.com" id="emailContato2" />
    </div>

    <div class="field">
      <label>Grupo</label>
      <select id="grupo2">
        <option>Selecione</option>
      </select>
    </div>

    <div class="field">
      <label>Categoria</label>
      <select id="categoriaId2">
        <option>Selecione</option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="field">
      <label>Sobre</label>
      <input type="text" placeholder="Breve descri√ß√£o do estabelecimento" id="sobre2" />
    </div>
  </div>

  <div class="row">
    <div class="field">
      <h3>Logo</h3>
      <input type="file" id="logoImagem2">
    </div>

    <div class="field">
      <h3>Fachada</h3>
      <input type="file" id="fachadaImagem2">
    </div>
  </div>

  <h3>Endere√ßo</h3>

  <div class="row">
    <div class="field">
      <label>CEP</label>
      <input type="text" placeholder="00000-000" id="cep2"/>
    </div>

    <div class="field">
      <label>Estado</label>
      <select id="estadoId2">
        <option value="1">S√£o Paulo</option>
      </select>
    </div>

    <div class="field">
      <label>Cidade</label>
      <select id="cidadeId2">
        <option value="1">Americana</option>
      </select>
    </div>

    <div class="field">
      <label>Rua</label>
      <input type="text" placeholder="Ex: Avenida Brasil" id="rua2"/>
    </div>
  </div>

  <div class="row">
    <div class="field">
      <label>N√∫mero</label>
      <input type="text" placeholder="123" id="numero2"/>
    </div>

    <div class="field">
      <label>Bairro</label>
      <input type="text" placeholder="Centro" id="bairro2" />
    </div>

    <div class="field">
      <label>Complemento</label>
      <input type="text" placeholder="Apto, sala, bloco (opcional)" id="complemento2"/>
    </div>
  </div>

  <div class="row">
    <div class="field full">
      <label>Mapa URL</label>
      <input type="text" id="mapurl2" placeholder="https://maps.google.com/..." />
    </div>

    <button class="btn-map" type="button">Extrair Lat/Long</button>
  </div>

  <div class="row">
    <div class="field">
      <label>Latitude</label>
      <input type="text" placeholder="-22.7392" id="latitude2" class="latitude2"/>
    </div>

    <div class="field">
      <label>Longitude</label>
      <input type="text" placeholder="-47.3313" id="longitude2" class="longitude2"/>
    </div>
  </div>

  <h3>Cart√µes Aceitos</h3> 
 <div class="row cards-row">
  <label class="field-ratio">
    <input type="checkbox" id="cartao-1">
    <span>Vegas Alimenta√ß√£o</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-2">
    <span>Vegas Refei√ß√£o</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-3">
    <span>Vegas Day</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-4">
    <span>Vegas Farm√°cia</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-5">
    <span>Vegas Plus</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-6">
    <span>Vegas Pay</span>
  </label>
</div>
  -->

<!---
<div class="row">
  <label class="field-ratio">
    <input type="checkbox" id="cartao-7">
    <span>Vegas Natalino</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-8">
    <span>Vegas Frota</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-9">
    <span>Vegas GIF</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-10">
    <span>Vegas Rastreador</span>
  </label>

  <label class="field-ratio">
    <input type="checkbox" id="cartao-11">
    <span>Vegas Combust√≠vel</span>
  </label>
</div>
-->


  <button type="button" onclick="cadastrarEstabelecimento2()" class="cadastrar">Cadastrar Estabelecimento</button>
</form>




  </div>
    </div>

    <!-- CUPONS -->

    <div class="page" data-page="promocoes">
  <h1>Gerenciar Promo√ß√µes</h1>
  
  <div class="btns-subpage">
    <button data-open-subpage="lista-cupom" class="active">Cupons</button>
    <button data-open-subpage="criar-cupom" onclick="abrirPreviewCupom()">+ Criar</button>
  </div>

  <div class="sub-page active" data-subpage="lista-cupom">
    
    <!-- Barra de Busca -->
    <div class="actions-page-estab">
      <input type="text" class="search-cupom" placeholder="Buscar cupons...">
    </div>

    <!-- Filtros de Status (Todos, Publicados, Expirados) -->
 
  <div class="filtros-status">
    <button class="tab-filtro-cupom active" data-status="todos">
      Todos (<span id="count-cupons-todos">0</span>)
    </button>
    <button class="tab-filtro-cupom" data-status="publicados">
      Publicados (<span id="count-cupons-publicados">0</span>)
    </button>
    <button class="tab-filtro-cupom" data-status="expirados">
      Expirados (<span id="count-cupons-expirados">0</span>)
    </button>
    <button class="tab-filtro-cupom" data-status="rascunhos">
      Rascunhos (<span id="count-cupons-rascunhos">0</span>)
    </button>
  </div>

    <!-- Filtros Avan√ßados -->
    <div class="filtros-avancados">
      <div class="filtro-item">
        <label>Estabelecimento</label>
        <select id="filtroCupomEstabelecimento" class="filtro-select">
          <option value="Todos">Todos</option>
        </select>
      </div>

      <div class="filtro-item">
        <label>Grupo</label>
        <select id="filtroCupomGrupo" class="filtro-select">
          <option value="Todos">Todos</option>
        </select>
      </div>

      <button class="btn-limpar-filtros" onclick="limparFiltrosCupons()">
        Limpar Filtros
      </button>
    </div>

    <!-- Lista de Cupons -->
    <div id="listaPromocoes"></div>
  </div>

    <div class="sub-page" data-subpage="criar-cupom" >
    <form id="formCupom">
  <h2>Cadastrar Cupom</h2>
  <div class="row">
 <div class="field">
    <label>C√≥digo</label>
    <input type="text" id="codigo" required>
  </div>

  <div class="field">
    <label>T√≠tulo</label>
    <input type="text" id="titulo" required>
  </div>

  <div class="field">
    <label>T√≠tulo Modal</label>
    <input type="text" id="modalTitulo" required>
  </div>

  
  </div>

  <div class="row">
      <div class="field">
    <label>Descri√ß√£o Modal</label>
    <input type="text" id="modalDescricao" required>
  </div>
  </div>

  <div class="row">


  <div class="field">
    <label>Valor M√≠nimo da Compra</label>
    <input type="number" id="valorMinimoCompra" step="0.01">
  </div>
    </div>

  <div class="row">
 <div class="field">
    <label>Data In√≠cio</label>
    <input type="datetime-local" id="dataInicio" required>
  </div>

  <div class="field">
    <label>Data Expira√ß√£o</label>
    <input type="datetime-local" id="dataExpiracao" required>
  </div>

  </div>
 

  <div class="row">
  <div class="field">
    <label>Tipo</label>
    <input type="text" id="tipo" required>
  </div>

  </div>

  <div class="row">
    <div class="field">
    <label>Desconto</label>
    <input type="number" id="valorDesconto" required>
  </div>

  <div class="field">
    <label>Limite de Uso</label>
    <input type="number" id="limiteUso">
  </div>

  <div class="field">
    <label>Limite de Uso por Usu√°rio</label>
    <input type="number" id="limiteUsoPorUsuario">
  </div>

  <div class="field">
      <label>Ativo</label>
      <label class="switch">
        <input type="checkbox" id="ativo-cupom">
        <span class="slider-edit"></span>
      </label>
    </div>
  </div>

  

   
<div class="row">
 <div class="field">
  <label for="">Estabelecimentos</label>
  <div class="estabelecimentos-checkbox-container">
  
  </div>
 </div>
 
</div>
 
  <div class="row">
 <div class="field">
    <label>Descricao</label>
    <input type="text" id="descricao" required>
  </div>
  </div>
   


<div class="row">
 <div class="field">
  <label>Cart√µes Aceitos</label>
  <div class="cupom-cards-row"></div>
</div>
</div>
 

  <div class="row">
  <div class="field">
    <label for="imgGaleria">Imagem Cupom:</label>
    <input type="file" id="imgGaleria" accept="image/*">
  </div>

  <div class="field">
    <label for="imgModal">Imagem Modal:</label>
    <input type="file" id="imgModal" accept="image/*">
  </div>

  </div>
 
  <button type="button" onclick="cadastrarCupom()" class="btn-cad">Cadastrar Cupom</button>
  </form>


    </div>

    </div>


    <!-- MODAL EDITAR CUPOM -->
  <div id="modalEditarCupom" class="modal-overlay-edit-cupom">
  <div class="modal-container-edit-cupom">
    <button class="modal-close-edit-cupom" onclick="fecharModalEditarCupom()">√ó</button>
    
    <h3>Editar Cupom/Promo√ß√£o</h3>

    <div class="form-section">

  <div id="imagensCupomEditContainer" class="imagens-container">

  </div>
</div>
    <!--Editar Cupom -->
    <form class="form-edit-cupom" onsubmit="event.preventDefault(); salvarEdicaoCupom();">
      
      <!-- ID (oculto) -->
      <div class="field-edit-cupom hidden">
        <input type="hidden" id="edit-id">
      </div>

      <!-- C√≥digo e T√≠tulo -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>C√≥digo</label>
          <input type="text" id="edit-codigo" required>
        </div>

        <div class="field-edit-cupom">
          <label>T√≠tulo</label>
          <input type="text" id="edit-titulo" required>
        </div>
      </div>

      <!-- Descri√ß√£o -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Descri√ß√£o</label>
          <textarea id="edit-descricao"></textarea>
        </div>
      </div>

      <!-- Modal T√≠tulo e Modal Descri√ß√£o -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>T√≠tulo do Modal</label>
          <input type="text" id="edit-modalTitulo">
        </div>

        <div class="field-edit-cupom">
          <label>Descri√ß√£o do Modal</label>
          <input type="text" id="edit-modalDescricao">
        </div>
      </div>

      <!-- Tipo e Valor Desconto -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Tipo de Desconto</label>
          <select id="edit-tipo" required>
            <option value="">Selecione</option>
            <option value="Percentual">Percentual (%)</option>
            <option value="Fixo">Valor Fixo (R$)</option>
          </select>
        </div>

        <div class="field-edit-cupom">
          <label>Valor do Desconto</label>
          <input type="number" id="edit-desconto" step="0.01" required>
        </div>
      </div>

      <!-- Valor M√≠nimo -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Valor M√≠nimo da Compra</label>
          <input type="number" id="edit-minimo" step="0.01">
        </div>
      </div>

      <!-- Datas -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Data In√≠cio</label>
          <input type="date" id="edit-inicio" required>
        </div>

        <div class="field-edit-cupom">
          <label>Data Expira√ß√£o</label>
          <input type="date" id="edit-expiracao" required>
        </div>
      </div>

      <!-- Limites -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Limite de Uso Total</label>
          <input type="number" id="edit-limite">
        </div>

        <div class="field-edit-cupom">
          <label>Limite de Uso por Usu√°rio</label>
          <input type="number" id="edit-limiteUsuario">
        </div>
      </div>


  <div class="row-edit-cupom form-edit-vinc">
    <label>Cart√µes Vinculados</label>
    <div id="cartoes-vinculados">

    </div>
    
  </div>

      <!-- Estabelecimento -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
          <label>Estabelecimento</label>
          <select id="edit-estabelecimento" required>
            <option value="">Selecione um estabelecimento</option>
            <!-- Op√ß√µes carregadas via JS -->
          </select>
        </div>
      </div>

      <!-- Cart√µes Aceitos -->
      <div class="row-edit-cupom">
        <div class="field-edit-cupom">
 
        <div class="row-edit-cupom">
  <div class="field-edit-cupom">
    <label>Cart√µes Aceitos</label>
    <div id="edit-cartoes-container" class="cartoes-checkbox-container">
      <!-- Checkboxes carregados via JS -->
    </div>
  </div>
</div>

        </div>
      </div>

      <!-- Ativo/Inativo -->
      <div class="row-edit-cupom ativo-edit-cupom">
        <label class="switch-edit-cupom">
          <input type="checkbox" id="edit-ativo">
          <span class="slider-edit-cupom"></span>
        </label>
        <span>Cupom ativo</span>
      </div>

      <!-- Bot√µes -->
      <div class="modal-actions-edit-cupom">
        <button type="button" class="btn-cancelar-edit-cupom" onclick="fecharModalEditarCupom()">
          Cancelar
        </button>
        <button type="submit" class="btn-salvar-edit-cupom">
          Salvar Altera√ß√µes
        </button>
      </div>

    </form>
  </div>
</div>


    <!-- MODAL EDITAR ESTABELECIMENTO -->
    <div id="modalEditarOverlay2" class="modal-overlay2" style="display:none;">
    <div class="modal-edit">

    <header class="modal-header">
      <h2>Editar Estabelecimento</h2>
      <button class="modal-close" onclick="fecharModalEditar()">√ó</button>
    </header>

   <form id="formEditarEstabelecimento" onsubmit="salvarEdicaoEstabelecimento(event)">

  <input type="hidden" id="idEstab2-edit">

  <!-- STATUS -->
   <br>
   <br>
  <div class="row ativo-edit">
    <label class="switch sw-edit">
      <input type="checkbox" id="ativoEstab2-edit">
      <span class="slider-edit"></span>
    </label>
    <span>Publicar estabelecimento</span>
  </div>

  <div class="row">
    <div id="imagensEditContainer">

    </div>
  </div>

  <h3>Dados Principais</h3>
  <input type="hidden" id="editId2">
  <div class="grid">
    <div class="field">
      <label>Nome Fantasia</label>
      <input id="nomeEstab2-edit" required>
    </div>

    <div class="field">
      <label>Raz√£o Social</label>
      <input id="razaoSocial2-edit">
    </div>

    <div class="field">
      <label>CNPJ</label>
      <input id="cnpj2-edit">
    </div>

    <div class="field">
      <label>Telefone</label>
      <input id="telefone2-edit">
    </div>

    <div class="field">
      <label>Email</label>
      <input id="emailContato2-edit" type="email">
    </div>
  </div>

  <h3>Localiza√ß√£o</h3>

  <div class="grid">
    <div class="field">
      <label>Estado</label>
      <select id="estadoId2-edit" onchange="carregarCidades2()"></select>
    </div>

    <div class="field">
      <label>Cidade</label>
      <select id="cidadeId2-edit" required></select>
    </div>

    <div class="field">
      <label>Rua</label>
      <input id="rua2-edit">
    </div>

    <div class="field">
      <label>N√∫mero</label>
      <input id="numero2-edit">
    </div>

    <div class="field">
      <label>Bairro</label>
      <input id="bairro2-edit">
    </div>

    <div class="field">
      <label>Complemento</label>
      <input id="complemento2-edit">
    </div>

    <div class="field">
      <label>CEP</label>
      <input id="cep2-edit">
    </div>
  </div>

  <h3>Mapa</h3>

  <div class="grid">
    <div class="field">
      <label>Mapa (URL Google Maps)</label>
      <input id="mapurl2-edit">
    </div>

    <div class="field">
      <label>Latitude</label>
      <input id="latitude2-edit">
    </div>

    <div class="field">
      <label>Longitude</label>
      <input id="longitude2-edit">
    </div>
  </div>

  <h3>Categoria</h3>

  <div class="grid">
    <div class="field">
      <label>Categoria</label>
      <select id="categoriaId2-edit"></select>
    </div>
  </div>

  <h3>Sobre</h3>

  <div class="field">
    <textarea id="sobre2-edit" rows="4"></textarea>
  </div>

  <!-- A√á√ïES -->
  <div class="modal-actions">
    <button type="button" class="btn-cancelar" onclick="fecharModalEditar()">Cancelar</button>
    <button type="submit" class="btn-salvar">Salvar altera√ß√µes</button>
  </div>

</form>


  </div>
    </div>


<!---Modal Grupo Vincular -->

   <div id="modalVincularEstab" class="modal-gp hidden" onclick="fecharModalVincular()">
  <div class="modal-gp-content" onclick="event.stopPropagation()">
    <button onclick="fecharModalVincular()" class="modal-close">X</button>
    <h1>Detalhes do Grupo</h1>


    <!-- J√Å VINCULADOS -->
    <h4 class="modal-subtitle">Estabelecimentos do grupo</h4>
    <div id="listaEstabVinculados" class="lista-modal-gp"></div>

    <!-- DISPON√çVEIS -->
    <h4 class="modal-subtitle">Adicionar novos</h4>
    <div id="listaEstabModal" class="lista-modal-gp"></div>

    <div class="footer-gp">
 <div class="modal-gp-header">

     
    </div>
    <div class="modal-gp-actions">
      <button onclick="fecharModalVincular()">Cancelar</button>
      <button onclick="confirmarVinculo()">Adicionar</button>
    </div>
    </div>
   
  </div>
</div>

<!-- Loader Overlay -->
<div id="modalLoader" class="modal-loader-overlay">
  <div class="loader-container">
    <div class="loader-spinner"></div>
    <p class="loader-text loader-text-animated">Carregando cupom...</p>
    <p class="loader-subtext">Aguarde um momento</p>
  </div>
</div>

<!-- Modal de Preview - FORMUL√ÅRIO REAL -->
<div id="modal-preview" class="modal-preview" style="display: none;">
  <div class="modal-preview-container">
    <!-- Bot√£o fechar -->
    <button class="btn-fechar-preview" onclick="fecharPreview()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>

    <!-- Conte√∫do dividido: 30% Form | 70% Preview -->
    <div class="preview-content">
      <!-- Lado Esquerdo: Formul√°rio REAL (30%) -->
      <div class="preview-form-side">
        <div class="form-scroll">
          <h2 class="preview-title">Cadastrar Estabelecimento</h2>
          
          <form class="form-estab" id="formCadastro2">
            <h3 class="title-form">Dados Iniciais</h3>

            <div class="row">
              <div class="field">
                <label>Nome Fantasia *</label>
                <input type="text" placeholder="Ex: Mercado Central" id="nomeEstab2"  />
              </div>

              <div class="field">
                <label>Raz√£o Social *</label>
                <input type="text" placeholder="Ex: Mercado Central LTDA" id="razaoSocial2" />
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>CNPJ *</label>
                <input type="text" placeholder="00.000.000/0001-00" id="cnpj2" />
              </div>

              <div class="field">
                <label>Ativo</label>
                <label class="switch">
                  <input type="checkbox" id="ativoEstab2" checked>
                  <span class="slider-edit"></span>
                </label>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Telefone *</label>
                <input type="text" placeholder="(11) 99999-9999" id="telefone2"  />
              </div>

              <div class="field">
                <label>Email de Contato</label>
                <input type="email" placeholder="contato@empresa.com" id="emailContato2" />
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Grupo</label>
                <select id="grupo2">
                  <option>Selecione</option>
                </select>
              </div>

              <div class="field">
                <label>Categoria *</label>
                <select id="categoriaId2" onchange="atualizarPreview()">
                  <option>Selecione</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="field full">
                <label>Sobre</label>
                <textarea placeholder="Breve descri√ß√£o do estabelecimento" id="sobre2"  rows="3"></textarea>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Logo</label>
                <input type="file" id="logoImagem2" onchange="previewImagem(this, 'logo')" accept="image/*">
                <div class="preview-img-small" id="preview-logo-small"></div>
              </div>

              <div class="field">
                <label>Fachada</label>
                <input type="file" id="fachadaImagem2" onchange="previewImagem(this, 'fachada')" accept="image/*">
                <div class="preview-img-small" id="preview-fachada-small"></div>
              </div>
            </div>

            <h3 class="title-form">Endere√ßo</h3>

            <div class="row">
              <div class="field">
                <label>CEP *</label>
                <input type="text" placeholder="00000-000" id="cep2" />
              </div>

              <div class="field">
                <label>Estado</label>
                <select id="estadoId2">
                  <option value="1">S√£o Paulo</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Cidade *</label>
                <select id="cidadeId2" onchange="atualizarPreview()">
                  <option value="1">Americana</option>
                </select>
              </div>

              <div class="field">
                <label>Rua *</label>
                <input type="text" placeholder="Ex: Avenida Brasil" id="rua2" />
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>N√∫mero *</label>
                <input type="text" placeholder="123" id="numero2"  />
              </div>

              <div class="field">
                <label>Bairro</label>
                <input type="text" placeholder="Centro" id="bairro2"  />
              </div>
            </div>

            <div class="row">
              <div class="field full">
                <label>Complemento</label>
                <input type="text" placeholder="Apto, sala, bloco (opcional)" id="complemento2" />
              </div>
            </div>

            <div class="row">
            <div class="field full">
                <label>Mapa URL</label>
                <input type="text" id="mapurl2" placeholder="https://maps.google.com/..." />
              </div>
            </div>
            

            <div class="row">
             
              <button class="btn-map" type="button" onclick="extrairLatLong()">Extrair Lat/Long</button>
            </div>

            <div class="row">
              <div class="field">
                <label>Latitude</label>
                <input type="text" placeholder="-22.7392" id="latitude2" class="latitude2" />
              </div>

              <div class="field">
                <label>Longitude</label>
                <input type="text" placeholder="-47.3313" id="longitude2" class="longitude2" />
              </div>
            </div>

            <h3 class="title-form">Cart√µes Aceitos</h3> 
            <div class="cards-row">
              <label class="field-ratio">
                <input type="checkbox" id="cartao-1">
                <span>Vegas Alimenta√ß√£o</span>
              </label>

              <label class="field-ratio">
                <input type="checkbox" id="cartao-2">
                <span>Vegas Refei√ß√£o</span>
              </label>

              <label class="field-ratio">
                <input type="checkbox" id="cartao-3">
                <span>Vegas Day</span>
              </label>

              <label class="field-ratio">
                <input type="checkbox" id="cartao-4">
                <span>Vegas Farm√°cia</span>
              </label>

              <label class="field-ratio">
                <input type="checkbox" id="cartao-5">
                <span>Vegas Plus</span>
              </label>

              <label class="field-ratio">
                <input type="checkbox" id="cartao-6">
                <span>Vegas Pay</span>
              </label>
            </div>

            <div class="preview-actions">
              <button type="button" onclick="cadastrarEstabelecimento2()" class="btn-salvar-preview">
                üíæ Cadastrar Estabelecimento
              </button>
              <button type="button" onclick="fecharPreview()" class="btn-cancelar-preview">
                ‚úï Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Lado Direito: Preview (70%) -->
      <div class="preview-display-side">
        <div class="preview-header">
          <h3>üñ•Ô∏è Preview do Site</h3>
          <div class="preview-viewport-btns">
    <button class="viewport-btn active" id="btn-desktop-p" title="Desktop (>1024px)">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/>
      </svg>
    </button>
    <button class="viewport-btn" id="btn-tablet-p" title="Tablet (768px)">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="4" y="2" width="16" height="20" rx="2"/><circle cx="12" cy="18" r="1" fill="currentColor"/>
      </svg>
    </button>
    <button class="viewport-btn" id="btn-mobile-p" title="Mobile (480px)">
      <svg width="16" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="5" y="2" width="14" height="20" rx="2"/><circle cx="12" cy="18" r="1" fill="currentColor"/>
      </svg>
    </button>
  </div>
          <span class="preview-badge">‚ú® Visualiza√ß√£o em tempo real</span>
        </div>
        
        <div class="preview-scroll">
          <div class="preview-comercio-wrapper" id="preview-comercio-wrapper">
          <section class="comercio-p preview-comercio">
            <h1 class="tag-comercio" id="prev-categoria">Bares e Restaurantes</h1>
            
            <div class="comercio-container viewport">
              <!-- Imagem Principal (Fachada) -->
              <div class="main-img" id="f-img">
                <img src="./imgs/default-image.png" class="img-comercio" id="prev-fachada-img" alt="Fachada">
              </div>
              
              <div class="main-info">
                <!-- Mobile -->
                <div class=" header-info-mobile mobile-header-comercio">
                  <div class="header-info-mobile-head">
                    <div class="img-logo">
                      <img src="./imgs/default-image.png" class="logo" id="prev-logo-mobile" alt="Logo">
                    </div>
                    <div class="names-ava">
                      <h2 class="title-comercio" id="prev-nome-mobile">Nome do Estabelecimento</h2>
                    </div>
          
                  </div>
                  <div class="main-img">
                    <img src="./imgs/default-image.png" class="img-comercio" id="prev-fachada-mobile" alt="Fachada">
                  </div>
                </div>

                <!-- Desktop -->
                <div class="header-info">
                  <div class="img-logo">
                    <img src="./imgs/default-image.png" class="logo" id="prev-logo-img" alt="Logo">
                  </div>
                  <div class="inner-info">
                    <div class="names-ava">
                      <h2 class="title-comercio" id="prev-nome">Nome do Estabelecimento</h2>
                    </div>
                  </div>
                </div>

                <!-- Tablet -->
                <div class="main-img-tablet">
                  <img src="./imgs/default-image.png" class="img-comercio" id="prev-fachada-tablet" alt="Fachada">
                </div>

                <div class="line line-1"></div>
                
                <!-- Cards de Informa√ß√£o -->
                <div class="info-cards">
                  <div class="primary-infos">
                    <!-- Endere√ßo -->
                    <div class="info-card adress-card">
                      <h3>Endere√ßo:</h3>
                      <p class="adress" id="prev-endereco">Preencha o endere√ßo no formul√°rio</p>
                    </div>
                    
                    <!-- Telefone -->
                    <div class="info-card phone-card">
                      <h3>Telefone:</h3>
                      <p class="phone" id="prev-telefone">Preencha o telefone no formul√°rio</p>
                    </div>
                    
                    <!-- Sobre -->
                    <div class="info-card">
                      <h3>Sobre:</h3>
                      <p class="descricao" id="prev-sobre">Adicione uma descri√ß√£o sobre o estabelecimento</p>
                    </div>
                  </div>
                </div>
                
                <div class="line line-last"></div>
              </div>
            </div>
          </section>
          </div>

          <div class="preview-footer-note">
            <p>üí° <strong>Campos administrativos n√£o vis√≠veis:</strong> CNPJ, Raz√£o Social, Email, Grupo, Status Ativo, Coordenadas, Cart√µes Aceitos</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!--preview cupom-->

<!-- Modal Preview Cupom -->
<div id="modal-preview-cupom" class="mpc-overlay" style="display:none;">
  <div class="mpc-container">

    <!-- Bot√£o fechar -->
    <button class="mpc-btn-fechar" onclick="fecharPreviewCupom()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>

    <!-- Layout: 35% form | 65% preview -->
    <div class="mpc-layout">

      <!-- Lado Esquerdo: Formul√°rio -->
      <div class="mpc-form-side">
        <div class="mpc-form-scroll">
          <h2 class="mpc-form-title">Cadastrar Cupom</h2>
          <form id="formCupomPreview" autocomplete="off">

            <div class="row">
              <div class="field">
                <label>C√≥digo</label>
                <input type="text" id="cp-codigo" >
              </div>
              <div class="field">
                <label>T√≠tulo</label>
                <input type="text" id="cp-titulo" >
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>T√≠tulo Modal</label>
                <input type="text" id="cp-modalTitulo">
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Descri√ß√£o Card</label>
                <input type="text" id="cp-descricao" >
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Descri√ß√£o Modal</label>
                <input type="text" id="cp-modalDescricao">
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Desconto (%)</label>
                <input type="number" id="cp-valorDesconto">
              </div>
              <div class="field">
                <label>Valor M√≠nimo</label>
                <input type="number" id="cp-valorMinimoCompra" step="0.01">
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Data In√≠cio</label>
                <input type="datetime-local" id="cp-dataInicio">
              </div>
              <div class="field">
                <label>Data Expira√ß√£o</label>
                <input type="datetime-local" id="cp-dataExpiracao">
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Limite de Uso</label>
                <input type="number" id="cp-limiteUso">
              </div>
              <div class="field">
                <label>Limite por Usu√°rio</label>
                <input type="number" id="cp-limiteUsoPorUsuario">
              </div>
              <div class="field">
                <label>Ativo</label>
                <label class="switch">
                  <input type="checkbox" id="cp-ativo" checked>
                  <span class="slider-edit"></span>
                </label>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Estabelecimentos</label>
                <div class="estabelecimentos-checkbox-container" id="cp-estab-container"></div>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Cart√µes Aceitos</label>
                <div class="cupom-cards-row" id="cp-cards-row"></div>
              </div>
            </div>

            <div class="row">
              <div class="field">
                <label>Imagem Cupom (Card)</label>
                <input type="file" id="cp-imgGaleria" accept="image/*" onchange="cpPreviewImagem(this,'galeria')">
                <div id="cp-thumb-galeria" class="preview-img-small"></div>
              </div>
              <div class="field">
                <label>Imagem Modal</label>
                <input type="file" id="cp-imgModal" accept="image/*" onchange="cpPreviewImagem(this,'modal')">
                <div id="cp-thumb-modal" class="preview-img-small"></div>
              </div>
            </div>

            <div class="preview-actions">
              <button type="button" onclick="cadastrarCupom()" class="btn-salvar-preview">
                üíæ Cadastrar Cupom
              </button>
              <button type="button" onclick="fecharPreviewCupom()" class="btn-cancelar-preview">
                ‚úï Cancelar
              </button>
            </div>

          </form>
        </div>
      </div>

      <!-- Lado Direito: Preview -->
      <div class="mpc-preview-side">
        <div class="mpc-preview-header">
          <h3>üñ•Ô∏è Preview do Cupom</h3>
          <span class="preview-badge">‚ú® Visualiza√ß√£o em tempo real</span>
        </div>

        <div class="mpc-preview-scroll">

          <!-- === CARD DO CUPOM (id√™ntico ao real) === -->
          <div style="max-width:360px; margin: 0 auto 40px;">
            <article class="coupon-card">
              <div class="coupon-media">
                <img id="cpv-card-img" src="./imgs/default-image.png" loading="lazy">
                <span class="coupon-badge">
                  <strong id="cpv-badge-titulo">5% De desconto!</strong>
                </span>
              </div>
              <div class="coupon-body">
                <div class="coupon-meta">
                  <span class="meta-cat" id="cpv-meta-cat">Categoria</span>
                  <div class="meta-pills" id="cpv-meta-pills"></div>
                </div>
                <h3 class="coupon-title" id="cpv-titulo">T√≠tulo do cupom</h3>
                <p class="coupon-sub" id="cpv-descricao">Descri√ß√£o do cupom aparece aqui</p>
                <button class="coupon-cta" type="button" onclick="abrirModalCupomPreview()">
                  Ver Oferta
                </button>
                <p class="coupon-valid">V√°lido at√© <span id="cpv-validade">--/--/----</span></p>
              </div>
            </article>
          </div>

          <!-- === MODAL DO CUPOM (id√™ntico ao real) === -->
          <div class="mpc-modal-preview-wrap" id="cpv-modal-wrap" style="display:none;">
            <div class="coupon-modal" style="position:relative; transform:none; left:auto; top:auto; max-width:100%; box-shadow: 0 30px 70px rgba(10,15,35,.25);">
              <button class="cm-close" style="position:absolute; right:-20px; top:-20px;" aria-label="Fechar" onclick="fecharModalCupomPreview()">&times;</button>
              <div class="cm-wrap">
                <div class="cm-topchips">
                  <span class="cm-chip" id="cpv-modal-chip-validade">
                    <svg viewBox="0 0 24 24"><path d="M8 2v3M16 2v3M3 8h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"/></svg>
                    V√°lido at√© --/--/----
                  </span>
                  <span class="cm-chip" id="cpv-modal-chip-estab">
                    <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    Estabelecimento
                  </span>
                </div>

                <div class="cm-badge">
                  <img id="cpv-modal-img" src="./imgs/default-image.png" alt="desconto" loading="lazy"
                    style="width:390px;height:291px;object-fit:cover;border-radius:16px;">
                </div>

                <h2 class="cm-title" id="cpv-modal-titulo" style="text-align:center;color:#1e2340;font-size:22px;font-weight:700;margin:12px 0 8px;">T√≠tulo do Modal</h2>
                <p class="cm-sub" id="cpv-modal-descricao" style="text-align:center;font-size:14px;color:#586274;margin-bottom:16px;">Descri√ß√£o modal aparece aqui</p>

                <p class="aceitos-cm" style="text-align:center;font-weight:600;font-size:14px;margin-bottom:10px;">Cart√µes Aceitos:</p>
                <div class="cm-pills" id="cpv-modal-pills" style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:16px;"></div>

                <div class="cm-alert" style="background:#f1f3fb;border-radius:12px;padding:16px;text-align:center;margin-bottom:16px;">
                  <div style="display:flex;align-items:center;justify-content:center;gap:6px;margin-bottom:6px;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#3446b8" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    <strong style="color:#3446b8;font-size:15px;">Aten√ß√£o!</strong>
                  </div>
                  <p style="color:#3446b8;font-weight:600;font-size:13px;margin:0 0 4px 0;">
                    Esta oferta √© v√°lida at√© <span id="cpv-modal-validade-texto">--/--/----</span>
                  </p>
                  <p class="subvalid-cm" style="font-size:12px;color:#586274;margin:0;">
                    N√£o acumul√°vel com outras promo√ß√µes. Apresente o cupom no momento do pedido.
                  </p>
                </div>

                <a href="#" class="cm-cta" role="button"
                  style="display:block;text-align:center;background:#3446b8;color:#fff;border-radius:999px;padding:14px;font-weight:700;text-decoration:none;">
                  Consultar no mapa
                </a>
              </div>
            </div>
          </div>

          <div class="preview-footer-note" style="margin-top:24px;">
            <p>üí° Clique em <strong>"Ver Oferta"</strong> para visualizar o modal. Campos como limite de uso, datas e estabelecimentos s√£o administrativos.</p>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


    </div>
    </div>
    </div>

    <script src="./scripts/env.js"></script>
    <script type="module" src="./scripts/pages/paineladmin.js"></script>
    <script>
  const menuItems = document.querySelectorAll(".lista-sidebar li");
const pages = document.querySelectorAll(".main-dash .page");
const rotaTexto = document.querySelector(".rotas-tela span");
const rotaIcone = document.querySelector(".rotas-dash i");

function showPage(pageName) {
  pages.forEach(page => {
    page.style.display =
      page.dataset.page === pageName ? "block" : "none";
  });

  // Atualiza o texto do breadcrumb
  const nomesAmigaveis = {
    "dashboard": "Dashboard",
    "estabelecimentos": "Gerenciar Estabelecimentos",
    "promocoes": "Gerenciar Promo√ß√µes"
  };
  
  rotaTexto.textContent = `/ ${nomesAmigaveis[pageName] || pageName}`;
  
  // Atualiza o √≠cone do breadcrumb
  const itemAtivo = document.querySelector(`.lista-sidebar li[data-page="${pageName}"]`);
  if (itemAtivo) {
    const iconeOriginal = itemAtivo.querySelector("svg");
    if (iconeOriginal) {
      // Clona o SVG e substitui o conte√∫do do <i>
      const iconeClonado = iconeOriginal.cloneNode(true);
      rotaIcone.innerHTML = "";
      rotaIcone.appendChild(iconeClonado);
    }
  }
}

menuItems.forEach(item => {
  item.addEventListener("click", () => {
    const pageName = item.dataset.page;

    // menu ativo
    menuItems.forEach(i => i.classList.remove("active"));
    item.classList.add("active");

    showPage(pageName);
  });
});

// Tela inicial
showPage("dashboard");
menuItems[0].classList.add("active");
</script>

</body>
</html>